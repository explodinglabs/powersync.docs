"use strict";(()=>{var i={};function v(e,t){i[e]=!0,requestAnimationFrame(()=>{i[e]=!1}),t()}var x={change:(e,t)=>{e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))},click:e=>{e.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))},input:(e,t)=>{e instanceof HTMLSelectElement?(e.value=t.inputValue,e.dispatchEvent(new Event("change",{bubbles:!0,cancelable:!0}))):e instanceof HTMLElement&&e.isContentEditable?(e.textContent=t.inputValue,e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0}))):((e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(e.value=t.inputValue),e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})))},keydown:(e,t)=>{e.dispatchEvent(new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:t.inputValue}))},keyup:e=>{e.dispatchEvent(new KeyboardEvent("keyup",{bubbles:!0,cancelable:!0,key:""}))},pointerdown:(e,t)=>{e.dispatchEvent(new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:t.pointer.x,clientY:t.pointer.y,pointerId:1,pointerType:"touch",isPrimary:!0}))},pointermove:(e,t)=>{e.dispatchEvent(new PointerEvent("pointermove",{bubbles:!0,cancelable:!0,clientX:t.pointer.x,clientY:t.pointer.y,pointerId:1,pointerType:"touch",isPrimary:!0}))},pointerup:(e,t)=>{e.dispatchEvent(new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:t.pointer.x,clientY:t.pointer.y,pointerId:1,pointerType:"touch",isPrimary:!0}))},popstate:e=>{e.dispatchEvent(new PopStateEvent("popstate",{bubbles:!0,cancelable:!0,state:history.state}))},pushState:()=>{history.pushState({},"",window.location.href)},replaceState:()=>{history.replaceState({},"",window.location.href)},reset:e=>{e.dispatchEvent(new Event("reset",{bubbles:!0,cancelable:!0}))},scroll:(e,t)=>{e instanceof HTMLElement?e.scrollTop=t.scroll.y:e instanceof Document?document.documentElement.scrollTop=t.scroll.y:e instanceof Window&&e.scrollTo(t.scroll.x,t.scroll.y)},submit:e=>{e.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))},touchend:e=>{e.dispatchEvent(new TouchEvent("touchend",{bubbles:!0,cancelable:!0,touches:[],targetTouches:[],changedTouches:[]}))},touchmove:e=>{e.dispatchEvent(new TouchEvent("touchmove",{bubbles:!0,cancelable:!0,touches:[],targetTouches:[],changedTouches:[]}))},touchstart:e=>{e.dispatchEvent(new TouchEvent("touchstart",{bubbles:!0,cancelable:!0,touches:[],targetTouches:[],changedTouches:[]}))}};function h({type:e,params:t}){let n=x[e];if(n){let o=window;t.selector&&(o=document.querySelector(t.selector)??window),v(e,()=>{n(o,t)})}}function y(e,t,n){fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJtZXJjdXJlIjp7InB1Ymxpc2giOlsiKiJdfX0.PXwpfIGng6KObfZlcOXvcnWCJOWTFLtswGI5DZuWSK4"},body:new URLSearchParams({topic:t,data:JSON.stringify(n)})})}function T(e){let t=[];for(;e.parentNode;){let n=0,o=0;for(let l=0;l<e.parentNode.children.length;l++){let p=e.parentNode.children[l];p.tagName===e.tagName&&(p===e&&(o=n),n++)}let r=e.tagName.toLowerCase(),a=n>1?`${r}:nth-of-type(${o+1})`:r;t.unshift(a),e=e.parentNode}return t.slice(1).join(" > ")}function d(e,t,n,o){if(o.target&&!i[o.type]){let r=o.target,a={senderId:n,type:o.type,params:{selector:T(r),inputValue:r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement?r.value:r instanceof HTMLElement&&r.isContentEditable?r.innerHTML.replace(/&nbsp;/g," "):r instanceof HTMLSelectElement?r.value:null,pointer:{x:o.clientX,y:o.clientY},scroll:{x:window.scrollX,y:window.scrollY}}};y(e,t,a)}}var s={};function b(){s={},document.querySelectorAll('link[rel="stylesheet"]').forEach(e=>{e instanceof HTMLLinkElement&&e.href&&(s[new URL(e.href,location.origin).pathname]=e)})}function M(e){var t=e.match(/^([^:/?#]+:)?(?:\/\/([^/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return typeof t[1]=="string"&&t[1].length>0&&t[1].toLowerCase()!==location.protocol||typeof t[2]=="string"&&t[2].length>0&&t[2].replace(new RegExp(":("+{"http:":80,"https:":443}[location.protocol]+")?$"),"")!==location.host}function L(){for(let e in s)M(s[e].href)||(s[e].href=`${e}?v=${Date.now()}`)}function S(){document.querySelectorAll("script[src]").forEach(e=>{let t=document.createElement("script");Array.from(e.attributes).forEach(n=>{t.setAttribute(n.name,n.value)}),t.src=`${e.src.split("?")[0]}?v=${Date.now()}`,e.replaceWith(t)})}function m(e){switch(e.type){case"refresh":window.location.reload();break;case"css":L();break;case"js":S();break}}function k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}var f=k(),g=document.getElementById("powersync"),c=g.dataset.eventsUri;c.startsWith(":")&&(c=`${window.location.protocol}//${window.location.hostname}${c}`);var E=g.dataset.eventsTopic,w=new URL(c);w.searchParams.append("topic",E);var u=new EventSource(w);u.onopen=e=>{console.log("eventSource open")};u.onerror=e=>{console.log("eventSource error")};u.onmessage=e=>{let t=JSON.parse(e.data);t.senderId!=f&&(h(t),m(t))};["change","click","input","keydown","keyup","pointerdown","pointermove","pointerup","popstate","pushState","replaceState","reset","scroll","submit","touchend","touchmove","touchstart"].forEach(e=>{window.addEventListener(e,t=>{d(c,E,f,t)},!0)});b();})();
